@model Customer

<head>
<link rel="stylesheet" href="~/css/atmpage.css" />
</head>

@section Scripts {
   @{ await Html.RenderPartialAsync("_ValidationScriptsPartial"); }

   <script type="text/javascript">
      function myFunction() {
         var destinationAccountNumber = document.getElementById('destinationAccountNumber');
         var comment = document.getElementById('comment');
         var transferRadioBox = document.getElementById("transferRadioBox");
         var depositRadioBox = document.getElementById("depositRadioBox");
         var accountLabel = document.getElementById("accountLabel");
         if(transferRadioBox.checked)
         {
            accountLabel.innerHTML = "From Account";
            destinationAccountNumber.style.display = "flex";
            comment.style.display = "flex";
            
         }
         else 
         {
            if(depositRadioBox.checked)
            {
               accountLabel.innerHTML = "To Account";
            }
            else
            {
               accountLabel.innerHTML = "From Account"
            }
         
         destinationAccountNumber.style.display = "none";
         comment.style.display = "none";
         
         }
      }
   </script>
}

<form asp-action="PerformTransaction" method="Post">
   @* <div asp-validation-summary="All" class="text-danger"></div> *@
   <div class="form-group row ">
      <label class="col-2">Transaction Details:</label>
   </div>
   <div class="form-group row ">
      <label class="col-2">Transaction Type:</label>
      <div class="col-5">
         <div class="form-check form-check-inline" id="transactionComboBox">
            <input class="form-check-input" type="radio" id="withdrawRadioBox" value="W" name="transactionType" onclick="myFunction()"  checked />
            <label class="form-check-label" for="withdrawRadioBox">Withdraw</label>
         </div>
         <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" id="depositRadioBox" value="D" name="transactionType" onclick="myFunction()">
            <label class="form-check-label" for="depositRadioBox">Deposit</label>
         </div>
         <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" id="transferRadioBox" value="T" name="transactionType" onclick="myFunction()">
            <label class="form-check-label" for="transferRadioBox">Transfer</label>
         </div>
      </div>
   </div>
   <div class="form-group row">
      <label class="col-2" id="accountLabel">From Account:</label>
      <div class="col-5">
         @foreach(var account in Model.Accounts) 
         {
         <div class="form-check form-check-inline">
            @if(account.AccountNumber == Model.Accounts[0].AccountNumber)
            {
               <input class="form-check-input" type="radio" id="accountNumber" value=@account.AccountNumber name="accountNumber" checked/>
            }
            else
            {
               <input class="form-check-input" type="radio" id="accountNumber" value=@account.AccountNumber name="accountNumber"/>
            }
          <label class="form-check-label" for="accountNumber">@account.AccountNumber</label>
         </div>
         }
         @Html.ValidationMessage("accountNumber", new { @class = "text-danger" })
      </div>
   </div>
   <div class="form-group row " id="destinationAccountNumber">
      <label class="col-2">To Account:</label>
      <div class="col-5">
         <input type="text" class="form-control" name="destinationAccountNumberInput" id="destinationAccountNumberInput" data-val="true" data-val-required="Please select an account." />
            @Html.ValidationMessage("destinationAccountNumberInput", new { @class = "text-danger" })
      </div>
   </div>
   <div class="form-group row ">
      <label class="col-2">Amount:</label>
      <div class="col-5">
         <input type="text" class="form-control" name="amount" id="amount" data-val="true"
                    data-val-required="The amount field is required." />
         @Html.ValidationMessage("amount", new { @class = "text-danger" })
      </div>
   </div>
   <div class="form-group row " id="comment">
      <label class="col-2">Comment:</label>
      <div class="col-5">
         <input type="text" class="form-control" name="commentInput" id="commentInput" />
      </div>
   </div>
   <div class="form-group-inline text-center mt-50">
      <button type="button" class="btn btn-secondary" id="button" >Cancel</button>
      <input type="submit" value="Execute" class="btn btn-primary" id="button" >
   </div>
</form>
